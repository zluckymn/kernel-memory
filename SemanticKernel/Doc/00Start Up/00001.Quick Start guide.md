# Getting started with Semantic Kernel Semantic Kernelå…¥é—¨

- 11/09/2024



In just a few steps, you can build your first AI agent with Semantic Kernel in either Python, .NET, or Java. This guide will show you how to...
åªéœ€å‡ ä¸ªæ­¥éª¤ï¼Œæ‚¨å°±å¯ä»¥åœ¨ Pythonã€.NET æˆ– Java ä¸­ä½¿ç”¨Kernelæ„å»ºæ‚¨çš„ç¬¬ä¸€ä¸ª AI ä»£ç†ã€‚æœ¬æŒ‡å—å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•...

- Install the necessary packages
  å®‰è£…å¿…è¦çš„è½¯ä»¶åŒ…
- Create a back-and-forth conversation with an AI
  ä¸ AI åˆ›å»ºæ¥å›å¯¹è¯
- Give an AI agent the ability to run your code
  è®© AI ä»£ç†èƒ½å¤Ÿè¿è¡Œä»£ç 
- Watch the AI create plans on the fly
  è§‚çœ‹ AI å³æ—¶åˆ¶å®šè®¡åˆ’



## Installing the SDK  å®‰è£… SDK

Semantic Kernel has several NuGet packages available. For most scenarios, however, you typically only need `Microsoft.SemanticKernel`.
Kernelæœ‰å¤šä¸ªå¯ç”¨çš„ NuGet åŒ…ã€‚ä½†æ˜¯ï¼Œå¯¹äºå¤§å¤šæ•°æ–¹æ¡ˆï¼Œé€šå¸¸åªéœ€è¦ `Microsoft.SemanticKernel`ã€‚

You can install it using the following command:
æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…å®ƒï¼š

Bash  çŒ›å‡»Copy  å¤åˆ¶

```bash
dotnet add package Microsoft.SemanticKernel
```

For the full list of Nuget packages, please refer to the [supported languages article](https://learn.microsoft.com/en-us/semantic-kernel/get-started/supported-languages).
æœ‰å…³ Nuget åŒ…çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜…[æ”¯æŒçš„è¯­è¨€ä¸€æ–‡ ](https://learn.microsoft.com/en-us/semantic-kernel/get-started/supported-languages)ã€‚



## Quickly get started with notebooks å¿«é€Ÿå¼€å§‹ä½¿ç”¨ç¬”è®°æœ¬

If you're a Python or C# developer, you can quickly get started with our notebooks. These notebooks provide step-by-step guides on how to use Semantic Kernel to build AI agents.
å¦‚æœæ‚¨æ˜¯ Python æˆ– C# å¼€å‘äººå‘˜ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿå¼€å§‹ä½¿ç”¨æˆ‘ä»¬çš„ç¬”è®°æœ¬ã€‚è¿™äº›ç¬”è®°æœ¬æä¾›äº†æœ‰å…³å¦‚ä½•ä½¿ç”¨Kernelæ„å»º AI ä»£ç†çš„åˆ†æ­¥æŒ‡å—ã€‚

![Semantic Kernel notebooks](https://learn.microsoft.com/en-us/semantic-kernel/media/python_getting_started_notebooks.png)

To get started, follow these steps:
é¦–å…ˆï¼Œè¯·æŒ‰ç…§ä¸‹åˆ—æ­¥éª¤ä½œï¼š

1. Clone the [Semantic Kernel repo](https://github.com/microsoft/semantic-kernel)
   å…‹éš†[Kernelå­˜å‚¨åº“](https://github.com/microsoft/semantic-kernel)
2. Open the repo in Visual Studio Code
   åœ¨ Visual Studio Code ä¸­æ‰“å¼€å­˜å‚¨åº“
3. Navigate to [_/dotnet/notebooks](https://github.com/microsoft/semantic-kernel/tree/main/dotnet/notebooks)
   å¯¼èˆªåˆ° [_/dotnet/notebooks](https://github.com/microsoft/semantic-kernel/tree/main/dotnet/notebooks)
4. Open *00-getting-started.ipynb* to get started setting your environment and creating your first AI agent!
   æ‰“å¼€ *00-getting-started.ipynb* å¼€å§‹è®¾ç½®æ‚¨çš„ç¯å¢ƒå¹¶åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ª AI ä»£ç†ï¼



## Writing your first console app ç¼–å†™ç¬¬ä¸€ä¸ªæ§åˆ¶å°åº”ç”¨

1. Create a new .NET Console project using this command:
   ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ–°çš„ .NET æ§åˆ¶å°é¡¹ç›®ï¼š

Bash  çŒ›å‡»Copy  å¤åˆ¶

```bash
dotnet new console
```

1. Install the following .NET dependencies:
   å®‰è£…ä»¥ä¸‹ .NET ä¾èµ–é¡¹ï¼š

Bash  çŒ›å‡»Copy  å¤åˆ¶

```bash
dotnet add package Microsoft.SemanticKernel
dotnet add package Microsoft.Extensions.Logging
dotnet add package Microsoft.Extensions.Logging.Console
```

1. Replace the content of the `Program.cs` file with this code:
   å°† `Program.cs` æ–‡ä»¶çš„å†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹ä»£ç ï¼š

C#Copy  å¤åˆ¶

```csharp
// Import packages
using Microsoft.Extensions.DependencyInjection;
using Microsoft.Extensions.Logging;
using Microsoft.SemanticKernel;
using Microsoft.SemanticKernel.ChatCompletion;
using Microsoft.SemanticKernel.Connectors.OpenAI;

// Populate values from your OpenAI deployment
var modelId = "";
var endpoint = "";
var apiKey = "";

// Create a kernel with Azure OpenAI chat completion
var builder = Kernel.CreateBuilder().AddAzureOpenAIChatCompletion(modelId, endpoint, apiKey);

// Add enterprise components
builder.Services.AddLogging(services => services.AddConsole().SetMinimumLevel(LogLevel.Trace));

// Build the kernel
Kernel kernel = builder.Build();
var chatCompletionService = kernel.GetRequiredService<IChatCompletionService>();

// Add a plugin (the LightsPlugin class is defined below)
kernel.Plugins.AddFromType<LightsPlugin>("Lights");

// Enable planning
OpenAIPromptExecutionSettings openAIPromptExecutionSettings = new() 
{
    FunctionChoiceBehavior = FunctionChoiceBehavior.Auto()
};

// Create a history store the conversation
var history = new ChatHistory();

// Initiate a back-and-forth chat
string? userInput;
do {
    // Collect user input
    Console.Write("User > ");
    userInput = Console.ReadLine();

    // Add user input
    history.AddUserMessage(userInput);

    // Get the response from the AI
    var result = await chatCompletionService.GetChatMessageContentAsync(
        history,
        executionSettings: openAIPromptExecutionSettings,
        kernel: kernel);

    // Print the results
    Console.WriteLine("Assistant > " + result);

    // Add the message from the agent to the chat history
    history.AddMessage(result.Role, result.Content ?? string.Empty);
} while (userInput is not null);
```

The following back-and-forth chat should be similar to what you see in the console. The function calls have been added below to demonstrate how the AI leverages the plugin behind the scenes.
ä»¥ä¸‹æ¥å›èŠå¤©åº”ç±»ä¼¼äºæ‚¨åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°çš„å†…å®¹ã€‚ä¸‹é¢æ·»åŠ äº†å‡½æ•°è°ƒç”¨ï¼Œä»¥æ¼”ç¤º AI å¦‚ä½•åœ¨å¹•ååˆ©ç”¨æ’ä»¶ã€‚

  å±•å¼€è¡¨

| Role  è§’è‰²                                               | Message  æ¶ˆæ¯                    |
| :------------------------------------------------------- | :------------------------------- |
| ğŸ”µ **User**  ğŸ”µ **ç”¨æˆ·**                                   | Please toggle the light è¯·åˆ‡æ¢ç¯ |
| ğŸ”´ **Assistant (function call)** ğŸ”´ **åŠ©æ‰‹ ï¼ˆå‡½æ•° è°ƒç”¨ï¼‰** | `LightsPlugin.GetState()`        |
| ğŸŸ¢ **Tool**  ğŸŸ¢ **å·¥å…·**                                   | `off`                            |
| ğŸ”´ **Assistant (function call)** ğŸ”´ **åŠ©æ‰‹ ï¼ˆå‡½æ•° è°ƒç”¨ï¼‰** | `LightsPlugin.ChangeState(true)` |
| ğŸŸ¢ **Tool**  ğŸŸ¢ **å·¥å…·**                                   | `on`                             |
| ğŸ”´ **Assistant**  ğŸ”´ **åŠ©ç†**                              | The light is now on ç°åœ¨ç¯äº®äº†   |

If you're interested in understanding more about the code above, we'll break it down in the next section.
å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£æœ‰å…³ä¸Šè¿°ä»£ç çš„æ›´å¤šä¿¡æ¯ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­å¯¹å…¶è¿›è¡Œåˆ†è§£ã€‚



## Understanding the code  äº†è§£ä»£ç 

To make it easier to get started building enterprise apps with Semantic Kernel, we've created a step-by-step that guides you through the process of creating a kernel and using it to interact with AI services.
ä¸ºäº†æ›´è½»æ¾åœ°å¼€å§‹ä½¿ç”¨Kernelæ„å»ºä¼ä¸šåº”ç”¨ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåˆ†æ­¥æŒ‡å—ï¼ŒæŒ‡å¯¼æ‚¨å®Œæˆåˆ›å»ºå†…æ ¸å¹¶ä½¿ç”¨å®ƒä¸ AI æœåŠ¡äº¤äº’çš„è¿‡ç¨‹ã€‚

![Semantic Kernel DotNET map](https://learn.microsoft.com/en-us/semantic-kernel/media/dotnetmap.png)

In the following sections, we'll unpack the above sample by walking through steps **1**, **2**, **3**, **4**, **6**, **9**, and **10**. Everything you need to build a simple agent that is powered by an AI service and can run your code.
åœ¨ä»¥ä¸‹éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡æ¼”ç»ƒæ­¥éª¤ **1**ã€**2**ã€**3**ã€**4**ã€**6**ã€**9** å’Œ **10** æ¥è§£å‹ç¼©ä¸Šè¿°ç¤ºä¾‹ã€‚æ„å»ºç”± AI æœåŠ¡æä¾›æ”¯æŒå¹¶å¯ä»¥è¿è¡Œä»£ç çš„ç®€å•ä»£ç†æ‰€éœ€çš„ä¸€åˆ‡ã€‚

- [Import packages  å¯¼å…¥åŒ…](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#1-import-packages)
- [Add AI services  æ·»åŠ  AI æœåŠ¡](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#2-add-ai-services)
- [Enterprise components  ä¼ä¸šç»„ä»¶](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#3-add-enterprise-services)
- [Build the kernel  æ„å»ºå†…æ ¸](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#4-build-the-kernel-and-retrieve-services)
- Add memory (skipped)  æ·»åŠ å†…å­˜ï¼ˆè·³è¿‡ï¼‰
- [Add plugins  æ·»åŠ æ’ä»¶](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#6-add-plugins)
- Create kernel arguments (skipped)
  åˆ›å»ºå†…æ ¸å‚æ•°ï¼ˆè·³è¿‡ï¼‰
- Create prompts (skipped)
  åˆ›å»ºæç¤ºï¼ˆè·³è¿‡ï¼‰
- [Planning  è§„åˆ’](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#9-planning)
- [Invoke  è°ƒç”¨](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#10-invoke)



### 1) Import packages  1ï¼‰ å¯¼å…¥åŒ…

For this sample, we first started by importing the following packages:
å¯¹äºæ­¤ç¤ºä¾‹ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¼å…¥ä»¥ä¸‹åŒ…ï¼š

C#Copy  å¤åˆ¶

```csharp
using Microsoft.SemanticKernel;
using Microsoft.SemanticKernel.ChatCompletion;
using Microsoft.SemanticKernel.Connectors.OpenAI;
```



### 2) Add AI services  2ï¼‰æ·»åŠ  AI æœåŠ¡

Afterwards, we add the most important part of a kernel: the AI services that you want to use. In this example, we added an Azure OpenAI chat completion service to the kernel builder.
ä¹‹åï¼Œæˆ‘ä»¬æ·»åŠ å†…æ ¸ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼šæ‚¨è¦ä½¿ç”¨çš„ AI æœåŠ¡ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°† Azure OpenAI èŠå¤©å®ŒæˆæœåŠ¡æ·»åŠ åˆ°å†…æ ¸ç”Ÿæˆå™¨ã€‚

 Note  æ³¨æ„

In this example, we used Azure OpenAI, but you can use any other chat completion service. To see the full list of supported services, refer to the [supported languages article](https://learn.microsoft.com/en-us/semantic-kernel/get-started/supported-languages). If you need help creating a different service, refer to the [AI services article](https://learn.microsoft.com/en-us/semantic-kernel/concepts/ai-services/). There, you'll find guidance on how to use OpenAI or Azure OpenAI models as services.
åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† Azure OpenAIï¼Œä½†å¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»–èŠå¤©å®ŒæˆæœåŠ¡ã€‚è‹¥è¦æŸ¥çœ‹å—æ”¯æŒæœåŠ¡çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜…[æ”¯æŒçš„è¯­è¨€ä¸€æ–‡ ](https://learn.microsoft.com/en-us/semantic-kernel/get-started/supported-languages)ã€‚å¦‚æœéœ€è¦åˆ›å»ºå…¶ä»–æœåŠ¡çš„å¸®åŠ©ï¼Œè¯·å‚é˜… [AI æœåŠ¡ä¸€æ–‡ ](https://learn.microsoft.com/en-us/semantic-kernel/concepts/ai-services/)ã€‚åœ¨é‚£é‡Œï¼Œä½ å°†æ‰¾åˆ°æœ‰å…³å¦‚ä½•ä½¿ç”¨ OpenAI æˆ– Azure OpenAI æ¨¡å‹ä½œä¸ºæœåŠ¡çš„æŒ‡å—ã€‚

C#Copy  å¤åˆ¶

```csharp
// Create kernel
var builder = Kernel.CreateBuilder()
builder.AddAzureOpenAIChatCompletion(modelId, endpoint, apiKey);
```



### 3) Add enterprise services 3ï¼‰æ·»åŠ ä¼ä¸šæœåŠ¡

One of the main benefits of using Semantic Kernel is that it supports enterprise-grade services. In this sample, we added the logging service to the kernel to help debug the AI agent.
ä½¿ç”¨Kernelçš„ä¸»è¦å¥½å¤„ä¹‹ä¸€æ˜¯å®ƒæ”¯æŒä¼ä¸šçº§æœåŠ¡ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†æ—¥å¿—è®°å½•æœåŠ¡æ·»åŠ åˆ°å†…æ ¸ä¸­ï¼Œä»¥å¸®åŠ©è°ƒè¯• AI ä»£ç†ã€‚

C#Copy  å¤åˆ¶

```csharp
builder.Services.AddLogging(services => services.AddConsole().SetMinimumLevel(LogLevel.Trace));
```



### 4) Build the kernel and retrieve services 4ï¼‰æ„å»ºå†…æ ¸å¹¶æ£€ç´¢æœåŠ¡

Once the services have been added, we then build the kernel and retrieve the chat completion service for later use.
æ·»åŠ æœåŠ¡åï¼Œæˆ‘ä»¬æ„å»ºå†…æ ¸å¹¶æ£€ç´¢èŠå¤©å®ŒæˆæœåŠ¡ä»¥ä¾›ä»¥åä½¿ç”¨ã€‚

C#Copy  å¤åˆ¶

```csharp
Kernel kernel = builder.Build();

// Retrieve the chat completion service
var chatCompletionService = kernel.Services.GetRequiredService<IChatCompletionService>();
```



### 6) Add plugins  6ï¼‰æ·»åŠ æ’ä»¶

With plugins, can give your AI agent the ability to run your code to retrieve information from external sources or to perform actions. In the above example, we added a plugin that allows the AI agent to interact with a light bulb. Below, we'll show you how to create this plugin.
ä½¿ç”¨æ’ä»¶ï¼Œå¯ä»¥è®©æ‚¨çš„ AI ä»£ç†èƒ½å¤Ÿè¿è¡Œæ‚¨çš„ä»£ç ä»¥ä»å¤–éƒ¨æºæ£€ç´¢ä¿¡æ¯æˆ–æ‰§è¡Œä½œã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæ’ä»¶ï¼Œå…è®¸ AI ä»£ç†ä¸ç¯æ³¡äº¤äº’ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åˆ›å»ºæ­¤æ’ä»¶ã€‚



#### Create a native plugin  åˆ›å»ºåŸç”Ÿæ’ä»¶

Below, you can see that creating a native plugin is as simple as creating a new class.
ä¸‹é¢ï¼Œä½ å¯ä»¥çœ‹åˆ°åˆ›å»ºåŸç”Ÿæ’ä»¶å°±åƒåˆ›å»ºä¸€ä¸ªæ–°ç±»ä¸€æ ·ç®€å•ã€‚

In this example, we've created a plugin that can manipulate a light bulb. While this is a simple example, this plugin quickly demonstrates how you can support both...
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¯ä»¥çºµç¯æ³¡çš„æ’ä»¶ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œä½†æ­¤æ’ä»¶å¿«é€Ÿæ¼”ç¤ºäº†å¦‚ä½•åŒæ—¶æ”¯æŒä¸¤è€…......

1. [Retrieval Augmented Generation (RAG)](https://learn.microsoft.com/en-us/semantic-kernel/concepts/plugins/using-data-retrieval-functions-for-rag) by providing the AI agent with the state of the light bulb
   [æ£€ç´¢å¢å¼ºç”Ÿæˆ ï¼ˆRAGï¼‰](https://learn.microsoft.com/en-us/semantic-kernel/concepts/plugins/using-data-retrieval-functions-for-rag) é€šè¿‡å‘ AI ä»£ç†æä¾›ç¯æ³¡çš„çŠ¶æ€
2. And [task automation](https://learn.microsoft.com/en-us/semantic-kernel/concepts/plugins/using-task-automation-functions) by allowing the AI agent to turn the light bulb on or off.
   ä»¥åŠé€šè¿‡å…è®¸ AI ä»£ç†æ‰“å¼€æˆ–å…³é—­ç¯æ³¡æ¥å®ç°[ä»»åŠ¡è‡ªåŠ¨åŒ– ](https://learn.microsoft.com/en-us/semantic-kernel/concepts/plugins/using-task-automation-functions)ã€‚

In your own code, you can create a plugin that interacts with any external service or API to achieve similar results.
åœ¨æ‚¨è‡ªå·±çš„ä»£ç ä¸­ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸ä»»ä½•å¤–éƒ¨æœåŠ¡æˆ– API äº¤äº’çš„æ’ä»¶ï¼Œä»¥å®ç°ç±»ä¼¼çš„ç»“æœã€‚

C#Copy  å¤åˆ¶

```csharp
using System.ComponentModel;
using System.Text.Json.Serialization;
using Microsoft.SemanticKernel;

public class LightsPlugin
{
   // Mock data for the lights
   private readonly List<LightModel> lights = new()
   {
      new LightModel { Id = 1, Name = "Table Lamp", IsOn = false },
      new LightModel { Id = 2, Name = "Porch light", IsOn = false },
      new LightModel { Id = 3, Name = "Chandelier", IsOn = true }
   };

   [KernelFunction("get_lights")]
   [Description("Gets a list of lights and their current state")]
   public async Task<List<LightModel>> GetLightsAsync()
   {
      return lights;
   }

   [KernelFunction("change_state")]
   [Description("Changes the state of the light")]
   public async Task<LightModel?> ChangeStateAsync(int id, bool isOn)
   {
      var light = lights.FirstOrDefault(light => light.Id == id);

      if (light == null)
      {
         return null;
      }

      // Update the light with the new state
      light.IsOn = isOn;

      return light;
   }
}

public class LightModel
{
   [JsonPropertyName("id")]
   public int Id { get; set; }

   [JsonPropertyName("name")]
   public string Name { get; set; }

   [JsonPropertyName("is_on")]
   public bool? IsOn { get; set; }
}
```



#### Add the plugin to the kernel å°†æ’ä»¶æ·»åŠ åˆ°å†…æ ¸

Once you've created your plugin, you can add it to the kernel so the AI agent can access it. In the sample, we added the `LightsPlugin` class to the kernel.
åˆ›å»ºæ’ä»¶åï¼Œæ‚¨å¯ä»¥å°†å…¶æ·»åŠ åˆ°å†…æ ¸ä¸­ï¼Œä»¥ä¾¿ AI ä»£ç†å¯ä»¥è®¿é—®å®ƒã€‚åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°† `LightsPlugin` ç±»æ·»åŠ åˆ°å†…æ ¸ä¸­ã€‚

C#Copy  å¤åˆ¶

```csharp
// Add the plugin to the kernel
kernel.Plugins.AddFromType<LightsPlugin>("Lights");
```



### 9) Planning  9ï¼‰ è§„åˆ’

Semantic Kernel leverages [function calling](https://learn.microsoft.com/en-us/semantic-kernel/concepts/ai-services/chat-completion/function-calling/)â€“a native feature of most LLMsâ€“to provide [planning](https://learn.microsoft.com/en-us/semantic-kernel/concepts/planning). With function calling, LLMs can request (or call) a particular function to satisfy a user's request. Semantic Kernel then marshals the request to the appropriate function in your codebase and returns the results back to the LLM so the AI agent can generate a final response.
Kernelåˆ©ç”¨[å‡½æ•°è°ƒç”¨ ](https://learn.microsoft.com/en-us/semantic-kernel/concepts/ai-services/chat-completion/function-calling/)ï¼ˆå¤§å¤šæ•° LLM çš„åŸç”ŸåŠŸèƒ½ï¼‰æ¥æä¾›[è§„åˆ’ ](https://learn.microsoft.com/en-us/semantic-kernel/concepts/planning)ã€‚é€šè¿‡å‡½æ•°è°ƒç”¨ï¼ŒLLM å¯ä»¥è¯·æ±‚ï¼ˆæˆ–è°ƒç”¨ï¼‰ç‰¹å®šå‡½æ•°æ¥æ»¡è¶³ç”¨æˆ·çš„è¯·æ±‚ã€‚ç„¶åï¼ŒKernelå°†è¯·æ±‚å°é€åˆ°ä»£ç åº“ä¸­çš„ç›¸åº”å‡½æ•°ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™ LLMï¼Œä»¥ä¾¿ AI ä»£ç†å¯ä»¥ç”Ÿæˆæœ€ç»ˆå“åº”ã€‚

To enable automatic function calling, we first need to create the appropriate execution settings so that Semantic Kernel knows to automatically invoke the functions in the kernel when the AI agent requests them.
è¦å¯ç”¨è‡ªåŠ¨å‡½æ•°è°ƒç”¨ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åˆ›å»ºé€‚å½“çš„æ‰§è¡Œè®¾ç½®ï¼Œä»¥ä¾¿KernelçŸ¥é“åœ¨ AI ä»£ç†è¯·æ±‚æ—¶è‡ªåŠ¨è°ƒç”¨å†…æ ¸ä¸­çš„å‡½æ•°ã€‚

C#Copy  å¤åˆ¶

```csharp
OpenAIPromptExecutionSettings openAIPromptExecutionSettings = new()
{
    FunctionChoiceBehavior = FunctionChoiceBehavior.Auto()
};
```



### 10) Invoke  10ï¼‰ è°ƒç”¨

Finally, we invoke the AI agent with the plugin. The sample code demonstrates how to generate a [non-streaming response](https://learn.microsoft.com/en-us/semantic-kernel/concepts/ai-services/chat-completion/#non-streaming-chat-completion), but you can also generate a [streaming response](https://learn.microsoft.com/en-us/semantic-kernel/concepts/ai-services/chat-completion/#streaming-chat-completion) by using the `GetStreamingChatMessageContentAsync` method.
æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨æ’ä»¶è°ƒç”¨ AI ä»£ç†ã€‚ç¤ºä¾‹ä»£ç æ¼”ç¤ºäº†å¦‚ä½•ç”Ÿæˆ[éæµå¼å¤„ç†å“åº” ](https://learn.microsoft.com/en-us/semantic-kernel/concepts/ai-services/chat-completion/#non-streaming-chat-completion)ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥ `GetStreamingChatMessageContentAsync` æ–¹æ³•ç”Ÿæˆ[æµå¼å¤„ç†å“åº” ](https://learn.microsoft.com/en-us/semantic-kernel/concepts/ai-services/chat-completion/#streaming-chat-completion)ã€‚

C#Copy  å¤åˆ¶

```csharp
// Create chat history
var history = new ChatHistory();

// Get the response from the AI
var result = await chatCompletionService.GetChatMessageContentAsync(
    history,
    executionSettings: openAIPromptExecutionSettings,
    kernel: kernel
);
```

Run the program using this command:
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œç¨‹åºï¼š

Bash  çŒ›å‡»Copy  å¤åˆ¶

```bash
dotnet run
```



## Next steps  åç»­æ­¥éª¤

In this guide, you learned how to quickly get started with Semantic Kernel by building a simple AI agent that can interact with an AI service and run your code. To see more examples and learn how to build more complex AI agents, check out our [in-depth samples](https://learn.microsoft.com/en-us/semantic-kernel/get-started/detailed-samples).
åœ¨æœ¬æŒ‡å—ä¸­ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•é€šè¿‡æ„å»ºä¸€ä¸ªç®€å•çš„ AI ä»£ç†æ¥å¿«é€Ÿå¼€å§‹ä½¿ç”¨Kernelï¼Œè¯¥ä»£ç†å¯ä»¥ä¸ AI æœåŠ¡äº¤äº’å¹¶è¿è¡Œæ‚¨çš„ä»£ç ã€‚è¦æŸ¥çœ‹æ›´å¤šç¤ºä¾‹å¹¶äº†è§£å¦‚ä½•æ„å»ºæ›´å¤æ‚çš„ AI ä»£ç†ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬çš„[æ·±å…¥ç¤ºä¾‹ ](https://learn.microsoft.com/en-us/semantic-kernel/get-started/detailed-samples)ã€‚







------

## Additional resources   å…¶ä»–èµ„æº

Documentation  æ–‡æ¡£

- [Introduction to Semantic Kernel
  Kernelç®€ä»‹](https://learn.microsoft.com/en-us/semantic-kernel/overview/?source=recommendations)

  Learn about Semantic Kernel
  äº†è§£Kernel

- [In-depth Semantic Kernel Demos
  æ·±å…¥çš„Kernelæ¼”ç¤º](https://learn.microsoft.com/en-us/semantic-kernel/get-started/detailed-samples?source=recommendations)

  Go deeper with additional Demos to learn how to use Semantic Kernel.
  é€šè¿‡å…¶ä»–æ¼”ç¤ºæ·±å…¥äº†è§£å¦‚ä½•ä½¿ç”¨Kernelã€‚

- [Supported languages for Semantic Kernel
  Kernelæ”¯æŒçš„è¯­è¨€](https://learn.microsoft.com/en-us/semantic-kernel/get-started/supported-languages?source=recommendations)

  Learn which features are available for C#, Python, and Java.
  äº†è§£å“ªäº›åŠŸèƒ½å¯ç”¨äº C#ã€Python å’Œ Javaã€‚

Show 3 more  æ˜¾ç¤º 3 ä¸ª

Training  è®­ç»ƒ

Module  æ¨¡å—

[Run prompts with Semantic Kernel - Training
ä½¿ç”¨Kernelè¿è¡Œæç¤º - è®­ç»ƒ](https://learn.microsoft.com/en-us/training/modules/create-plugins-semantic-kernel/?source=recommendations)

This module explores Semantic Kernel SDK plugins. Learn how plugins to the SDK are used to accomplish customized tasks and create intelligent applications.
æœ¬æ¨¡å—æ¢è®¨Kernel SDK æ’ä»¶ã€‚äº†è§£å¦‚ä½•ä½¿ç”¨ SDK æ’ä»¶æ¥å®Œæˆè‡ªå®šä¹‰ä»»åŠ¡å’Œåˆ›å»ºæ™ºèƒ½åº”ç”¨ç¨‹åºã€‚

In this article  æœ¬æ–‡å†…å®¹[Installing the SDK
å®‰è£… SDK](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#installing-the-sdk)[Quickly get started with notebooks
å¿«é€Ÿå¼€å§‹ä½¿ç”¨ç¬”è®°æœ¬](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#quickly-get-started-with-notebooks)[Writing your first console app
ç¼–å†™ç¬¬ä¸€ä¸ªæ§åˆ¶å°åº”ç”¨](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#writing-your-first-console-app)[Understanding the code
äº†è§£ä»£ç ](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#understanding-the-code)[Next step](https://learn.microsoft.com/en-us/semantic-kernel/get-started/quick-start-guide?pivots=programming-language-csharp#next-steps)