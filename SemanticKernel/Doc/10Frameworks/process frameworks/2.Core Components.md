# Core Components of the Process Framework 流程框架的核心组件

- 09/28/2024

The Process Framework is built upon a modular architecture that enables developers to construct sophisticated workflows through its core components. Understanding these components is essential for effectively leveraging the framework.
流程框架建立在模块化架构之上，使开发人员能够通过其核心组件构建复杂的工作流程。了解这些组件对于有效利用该框架至关重要。



## Process  过程

A Process serves as the overarching container that orchestrates the execution of Steps. It defines the flow and routing of data between Steps, ensuring that process goals are achieved efficiently. Processes handle inputs and outputs, providing flexibility and scalability across various workflows.
流程充当协调步骤执行的总体容器。它定义了步骤之间的数据流和路由，确保高效实现流程目标。流程处理输入和输出，为各种工作流程提供灵活性和可扩展性。



### Process Features  工艺特点

- **Stateful:** Supports querying information such as tracking status and percent completion, as well as the ability to pause and resume.
  **状态：** 支持查询跟踪状态、完成百分比等信息，以及暂停和恢复功能。
- **Reusable:** A Process can be invoked within other processes, promoting modularity and reusability.
  **可 重用：** 可以在其他进程中调用进程，从而促进模块化和可重用性。
- **Event Driven:** Employs event-based flow with listeners to route data to Steps and other Processes.
  **事件驱动：** 使用基于事件的流和侦听器将数据路由到步骤和其他流程。
- **Scalable:** Utilizes well-established runtimes for global scalability and rollouts.
  **可 伸缩：** 利用完善的运行时实现全局可扩展性和推出。
- **Cloud Event Integrated:** Incorporates industry-standard eventing for triggering a Process or Step.
  **云活动集成：** 包含用于触发流程或步骤的行业标准事件。



### Creating A Process  创建流程

To create a new Process, add the Process Package to your project and define a name for your process.
要创建新的流程，请将流程包添加到项目中，并为流程定义名称。



## Step  步

Steps are the fundamental building blocks within a Process. Each Step corresponds to a discrete unit of work and encapsulates one or more Kernel Functions. Steps can be created independently of their use in specific Processes, enhancing their reusability. They emit events based on the work performed, which can trigger subsequent Steps.
步骤是流程中的基本构建块。每个步骤对应于一个离散的工作单元，并封装一个或多个内核函数。步骤可以独立于在特定流程中的使用而创建，从而增强其可重用性。它们根据执行的工作发出事件，这可以触发后续步骤。



### Step Features  步骤功能

- **Stateful:** Facilitates tracking information such as status and defined tags.
  **状态：** 便于跟踪状态和定义的标签等信息。
- **Reusable:** Steps can be employed across multiple Processes.
  **可 重用：** 步骤可以跨多个流程使用。
- **Dynamic:** Steps can be created dynamically by a Process as needed, depending on the required pattern.
  **动态：** 流程可以根据需要动态创建步骤，具体取决于所需的模式。
- **Flexible:** Offers different types of Steps for developers by leveraging Kernel Functions, including Code-only, API calls, AI Agents, and Human-in-the-loop.
  **灵活：** 通过利用内核函数为开发人员提供不同类型的步骤，包括纯代码、API 调用、AI 代理和人机交互。
- **Auditable:** Telemetry is enabled across both Steps and Processes.
  **可审计：** 遥测在步骤和进程中都启用。



### Defining a Step  定义步骤

To create a Step, define a public class to name the Step and add it to the KernelStepBase. Within your class, you can incorporate one or multiple Kernel Functions.
要创建步骤，请定义一个公共类来命名该步骤并将其添加到 KernelStepBase。在类中，您可以合并一个或多个内核函数。



### Register a Step into a Process 将步骤注册到流程中

Once your class is created, you need to register it within your Process. For the first Step in the Process, add `isEntryPoint: true` so the Process knows where to start.
创建类后，您需要在流程中注册它。对于流程中的第一步，添加 `isEntryPoint： true`，以便流程知道从哪里开始。



### Step Events  步骤事件

Steps have several events available, including:
步骤有多个可用的事件，包括：

- **OnEvent:** Triggered when the class completes its execution.
  **事件中：** 当类完成执行时触发。
- **OnFunctionResult:** Activated when the defined Kernel Function emits results, allowing output to be sent to one or many Steps.
  **OnFunctionResult：** 当定义的内核函数发出结果时激活，允许将输出发送到一个或多个步骤。
- **SendOutputTo:** Defines the Step and Input for sending results to a subsequent Step.
  **发送输出到：** 定义用于将结果发送到后续步骤的步骤和输入。



## Pattern  模式

Patterns standardize common process flows, simplifying the implementation of frequently used operations. They promote a consistent approach to solving recurring problems across various implementations, enhancing both maintainability and readability.
模式标准化了常见的流程，简化了常用作的实现。它们提倡采用一致的方法来解决各种实施中反复出现的问题，从而增强可维护性和可读性。



### Pattern Types  图案类型

- **Fan In:** The input for the next Step is supported by multiple outputs from previous Steps.
  **风扇输入：** 上一步的多个输出支持下一步的输入。
- **Fan Out:** The output of previous Steps is directed into multiple Steps further down the Process.
  **扇出：** 前面步骤的输出被定向到进程的下游多个步骤中。
- **Cycle:** Steps continue to loop until completion based on input and output.
  **周期：** 步骤继续循环，直到根据输入和输出完成。
- **Map Reduce:** Outputs from a Step are consolidated into a smaller amount and directed to the next Step's input.
  **地图缩减：** 一个步骤的输出被合并为更小的数量，并定向到下一个步骤的输入。



### Setting up a Pattern  设置模式

Once your class is created for your Step and registered within the Process, you can define the events that should be sent downstream to other Steps or set conditions for Steps to be restarted based on the output from your Step.
为步骤创建类并在流程中注册后，您可以定义应向下游发送到其他步骤的事件，或根据步骤的输出设置重新启动步骤的条件。