# Semantic Kernel Agent Orchestration Semantic Kernel代理编排

- 07/22/2025

Agent Orchestration features in the Agent Framework are in the experimental stage. They are under active development and may change significantly before advancing to the preview or release candidate stage.
代理框架中的代理业务流程功能处于实验阶段。它们正在积极开发中，在进入预览版或候选版本阶段之前可能会发生重大变化。

Semantic Kernel’s Agent Orchestration framework enables developers to build, manage, and scale complex agent workflows with ease.
Semantic Kernel 的代理编排框架使开发人员能够轻松构建、管理和扩展复杂的代理工作流程。



## Why Multi-agent Orchestration? 为什么选择多代理编排？

Traditional single-agent systems are limited in their ability to handle complex, multi-faceted tasks. By orchestrating multiple agents, each with specialized skills or roles, we can create systems that are more robust, adaptive, and capable of solving real-world problems collaboratively. Multi-agent orchestration in Semantic Kernel provides a flexible foundation for building such systems, supporting a variety of coordination patterns.
传统的单代理系统处理复杂、多方面任务的能力有限。通过协调多个代理，每个代理都具有专门的技能或角色，我们可以创建更强大、适应性更强且能够协作解决现实世界问题的系统。Semantic Kernel中的多智能体编排为构建此类系统提供了灵活的基础，支持多种协调模式。



## Orchestration Patterns  编排模式

Like well-known cloud design patterns, agent orchestration patterns are technology agnostic approaches to coordinating multiple agents to work together towards a common goal. To learn more about the patterns themselves, refer to the [AI agent orchestration patterns](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns) documentation.
与众所周知的云设计模式一样，代理编排模式是与技术无关的方法，用于协调多个代理以共同实现共同目标。要了解有关模式本身的更多信息，请参阅 [AI 代理编排模式](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns)文档。





## Supported Orchestration Patterns in Semantic Kernel Semantic Kernel中支持的业务流程模式

Semantic Kernel supports you by implementing these orchestration patterns directly in the SDK. These patterns are available as part of the framework and can be easily extended or customized so you can tune your agent collaboration scenario.
Semantic Kernel通过直接在 SDK 中实现这些业务流程模式来支持你。这些模式作为框架的一部分提供，可以轻松扩展或自定义，以便您可以调整代理协作方案。

  展开表

| Pattern  模式                                                | Description  描述                                            | Typical Use Case  典型用例                                   |
| :----------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| [Concurrent  并发的](https://learn.microsoft.com/en-us/semantic-kernel/frameworks/agent/agent-orchestration/concurrent) | Broadcasts a task to all agents, collects results independently. 向所有代理广播任务，独立收集结果。 | Parallel analysis, independent subtasks, ensemble decision making. 并行分析、独立子任务、集成决策。 |
| [Sequential  顺序](https://learn.microsoft.com/en-us/semantic-kernel/frameworks/agent/agent-orchestration/sequential) | Passes the result from one agent to the next in a defined order. 按定义的顺序将结果从一个代理传递到下一个代理。 | Step-by-step workflows, pipelines, multi-stage processing. 分步工作流程、流水线、多阶段处理。 |
| [Handoff  切换](https://learn.microsoft.com/en-us/semantic-kernel/frameworks/agent/agent-orchestration/handoff) | Dynamically passes control between agents based on context or rules. 根据上下文或规则在代理之间动态传递控制权。 | Dynamic workflows, escalation, fallback, or expert handoff scenarios. 动态工作流、升级、回退或专家交接方案。 |
| [Group Chat  群聊](https://learn.microsoft.com/en-us/semantic-kernel/frameworks/agent/agent-orchestration/group-chat) | All agents participate in a group conversation, coordinated by a group manager. 所有座席都参与由群组经理协调的群组对话。 | Brainstorming, collaborative problem solving, consensus building. 集思广益、协作解决问题、建立共识。 |
| [Magentic  洋酸](https://learn.microsoft.com/en-us/semantic-kernel/frameworks/agent/agent-orchestration/magentic) | Group chat-like orchestration inspired by [MagenticOne](https://www.microsoft.com/en-us/research/articles/magentic-one-a-generalist-multi-agent-system-for-solving-complex-tasks/). 受 [MagenticOne](https://www.microsoft.com/en-us/research/articles/magentic-one-a-generalist-multi-agent-system-for-solving-complex-tasks/) 启发的类似群聊的编排。 | Complex, generalist multi-agent collaboration. 复杂的通才多智能体协作。 |



## Simplicity and Developer-friendly 简单且对开发人员友好

All orchestration patterns share a unified interface for construction and invocation. No matter which orchestration you choose, you:
所有业务流程模式共享一个统一的接口，用于构造和调用。无论选择哪种业务流程，都可以：

- Define your agents and their capabilities, see Semantic Kernel Agents.
  定义代理及其功能，请参阅Semantic Kernel代理。
- Create an orchestration by passing the agents (and, if needed, a manager).
  通过传递代理（以及如果需要的管理器）来创建业务流程。
- Optionally provide callbacks or transforms for custom input/output handling.
  （可选）为自定义输入/输出处理提供回调或转换。
- Start a runtime and invoke the orchestration with a task.
  启动运行时并使用任务调用业务流程。
- Await the result in a consistent, asynchronous manner.
  以一致、异步的方式等待结果。

This unified approach means you can easily switch between orchestration patterns, without learning new APIs or rewriting your agent logic. The framework abstracts away the complexity of agent communication, coordination, and result aggregation, letting you focus on your application’s goals.
这种统一的方法意味着您可以轻松地在业务流程模式之间切换，而无需学习新的 API 或重写代理逻辑。该框架抽象化了代理通信、协调和结果聚合的复杂性，让您专注于应用程序的目标。

C#Copy  复制

```csharp
// Choose an orchestration pattern with your agents
SequentialOrchestration orchestration = new(agentA, agentB)
{
    LoggerFactory = this.LoggerFactory
};  // or ConcurrentOrchestration, GroupChatOrchestration, HandoffOrchestration, MagenticOrchestration, ...

// Start the runtime
InProcessRuntime runtime = new();
await runtime.StartAsync();

// Invoke the orchestration and get the result
OrchestrationResult<string> result = await orchestration.InvokeAsync(task, runtime);
string text = await result.GetValueAsync();

await runtime.RunUntilIdleAsync();
```



## Preparing Your Development Environment 准备您的开发环境

Add the following packages to your project before you proceed:
在继续之前，请将以下包添加到项目中：

pwsh  普什Copy  复制

```pwsh
dotnet add package Microsoft.SemanticKernel.Agents.Orchestration --prerelease
dotnet add package Microsoft.SemanticKernel.Agents.Runtime.InProcess --prerelease
```

Depending on the agent types you use, you may also need to add the respective packages for the agents. Please refer to the [Agents Overview](https://learn.microsoft.com/en-us/semantic-kernel/frameworks/agent/agent-architecture#agent-types-in-semantic-kernel) for more details.
根据您使用的代理类型，您可能还需要为代理添加相应的包。有关更多详细信息，请参阅[代理概述 ](https://learn.microsoft.com/en-us/semantic-kernel/frameworks/agent/agent-architecture#agent-types-in-semantic-kernel)。



## Next steps  后续步骤